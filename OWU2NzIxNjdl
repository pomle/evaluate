{"questions":[{"id":"30cc3192-58bc-4af6-ba28-c0bb700cbd13","statement":"Pick the solution that makes the most sense.","answers":[{"id":"7fa35470-9fee-4378-ba9a-4fbfaa83e8c9","type":"js","content":"function wrapItems(items) {\n  const envelopes = [];\n  let counter = 0;\n  for (const item of items) {\n    const envelope = {\n      id: counter++,\n      item,\n    };\n    envelopes.push(envelope);\n  }\n  return envelopes;\n}\n\nmodule.exports = wrapItems;"},{"id":"867f277f-ae7c-4cff-b05e-4d02ee52da34","type":"js","content":"function wrapItems(items) {\n  let envelopes = [];\n  let counter = 0;\n  for (let item of items) {\n    let envelope = {\n      id: counter++,\n      item,\n    };\n    envelopes.push(envelope);\n  }\n  return envelopes;\n}\n\nmodule.exports = wrapItems;"}]},{"id":"f8999690-3929-44d7-8059-3795c4a2b9f1","statement":"Pick the solution that conforms to a Functional programming paradigm.","answers":[{"id":"0ee90d8f-cf7c-4d35-8d17-9320ec8d7f4b","type":"js","content":"const createPassword = require('./password');\n\nfunction addPassword(person) {\n  return Object.assign({}, person, {\n    password: createPassword(),\n  });\n}\n\nmodule.exports = addPassword;"},{"id":"44c3752f-59e4-49a9-84db-041fd7a4c9f4","type":"js","content":"const createPassword = require('./password');\n\nfunction addPassword(person) {\n  person.password = createPassword();\n  return person;\n}\n\nmodule.exports = addPassword;"}]},{"id":"7f677248-b7dd-4c17-acb5-4d23bd1bab4d","statement":"Pick the solution that performs the best.","answers":[{"id":"97826444-48f5-478a-9593-5c5190f396dd","type":"js","content":"function createFibonacci() {\n  const memo = new Map([[0, 0], [1, 1]]);\n\n  return function fibonacci(n) {\n    if (!memo.has(n)) {\n      memo.set(\n        n,\n        fibonacci(n - 1) + fibonacci(n - 2)\n      );\n    }\n    return memo.get(n);\n  };\n}\n\nmodule.exports = createFibonacci();"},{"id":"d8c176e6-1707-46b5-b82e-bf3875c03eb2","type":"js","content":"function fibonacci(n) {\n  if (n < 2) {\n    return n;\n  }\n  return fibonacci(n - 1) + fibonacci(n - 2);\n}\n\nmodule.exports = fibonacci;"}]},{"id":"1c0b292b-d909-4acc-8443-9ac4373133a0","statement":"Pick the most effective solution.","answers":[{"id":"037b134c-7611-4809-b8cd-69b8f28b0336","type":"js","content":"function getObjects(api, ids) {\n  return Promise.all(\n    ids.map(id => api.getObject(id))\n  );\n}\n\nmodule.exports = getObjects;"},{"id":"172da175-e955-4c4a-9036-7a1177739498","type":"js","content":"function getObjects(api, ids) {\n  const results = [];\n  let complete = 0;\n  return new Promise(resolve => {\n    for (const id of ids) {\n      api.getObject(id).then(object => {\n        results.push(object);\n        complete++;\n        if (complete === ids.length) {\n          resolve(results);\n        }\n      });\n    }\n  });\n}\n\nmodule.exports = getObjects;"}]},{"id":"17d74d67-d522-4cb0-829f-b376e72f68fd","statement":"Pick the solution that is most logical.","answers":[{"id":"00d4822f-d055-44ff-bbbf-dfd3c24ed332","type":"js","content":"function createPerson(id, name = 'Jane Doe') {\n  return {\n    id,\n    name,\n  };\n}\n\nmodule.exports = createPerson;"},{"id":"87fabdb9-d71b-4e1a-b862-7a25e2423336","type":"js","content":"function createPerson(name = 'Jane Doe', id) {\n  return {\n    id,\n    name,\n  };\n}\n\nmodule.exports = createPerson;"}]},{"id":"0c128dfb-9b14-48a2-b6dc-d3f7b546a517","statement":"Pick the solution that performs the best.","answers":[{"id":"54e60613-c788-4bc8-9cdd-678a4f7f1140","type":"js","content":"async function loadData(api) {\n  const foo = api.getFoo();\n  const bar = api.getBar();\n  return {\n    foo: await foo,\n    bar: await bar,\n  };\n}\n\nmodule.exports = loadData;"},{"id":"871a0f19-7a06-4fe1-874d-ad04c151f780","type":"js","content":"async function loadData(api) {\n  const foo = await api.getFoo();\n  const bar = await api.getBar();\n  return { foo, bar };\n}\n\nmodule.exports = loadData;"}]},{"id":"110be062-23ce-46f0-adb7-ea24177b3625","statement":"Pick the solution that scales best.","answers":[{"id":"bc97c3db-3dff-4713-b0a3-e16b4fe093b5","type":"js","content":"function uniqify(numbers) {\n  const unique = [];\n  const mem = Object.create(null);\n  for (const number of numbers) {\n    if (!mem[number]) {\n      unique.push(number);\n      mem[number] = true;\n    }\n  }\n  return unique;\n}\n\nmodule.exports = uniqify;"},{"id":"1e6d85af-595c-4498-a89f-cb0bb758893a","type":"js","content":"function uniqify(numbers) {\n  const unique = [];\n  for (const number of numbers) {\n    if (!unique.includes(number)) {\n      unique.push(number);\n    }\n  }\n  return unique;\n}\n\nmodule.exports = uniqify;"}]},{"id":"331aa22f-56b9-4e86-8366-becfbb792b27","statement":"Pick the solution that makes most sense.","answers":[{"id":"a948d3c5-0f38-4d55-80d7-10a8b4f715f2","type":"js","content":"function runUpdate(entities) {\n  entities.forEach(entity => {\n    entity.update();\n  });\n}\n\nmodule.exports = runUpdate;"},{"id":"3322e8a2-6e50-4807-b7a9-322d2b9f77dc","type":"js","content":"function runUpdate(entities) {\n  entities.map(entity => {\n    entity.update();\n  });\n}\n\nmodule.exports = runUpdate;"}]},{"id":"ddfeb350-d1ba-4d51-aca2-895f77babe31","statement":"Pick the best working solution.","answers":[{"id":"3600fc68-8fc5-4f61-8cc6-e23c27fed0c7","type":"js","content":"function performUserSearch(api, user, text) {\n  const query = `user:${user.id},query:${text}`;\n  return api.search(query).then(result => {\n    return {\n      resultFor: query,\n      result,\n    };\n  });\n}\n\nmodule.exports = performUserSearch;"},{"id":"6a16c5f0-de19-41b1-b9dd-28f49ea27416","type":"js","content":"function performUserSearch(api, user, text) {\n  return new Promise(resolve => {\n    const query = `user:${user.id},query:${text}`;\n    api.search(query).then(result => {\n      resolve({\n        resultFor: query,\n        result,\n      });\n    });\n  });\n}\n\nmodule.exports = performUserSearch;"}]},{"id":"75a91b2e-ba0b-4bf6-939d-f9ba4683faf7","statement":"Pick the solution that makes most sense.","answers":[{"id":"c2463c5d-c4f5-4209-b0da-ea01d9ebb6a2","type":"js","content":"function extractProperty(key) {\n  return function extract(object) {\n    return object[key];\n  };\n}\n\nmodule.exports = extractProperty;"},{"id":"1a1adedf-50f6-4757-94f9-405f7e1cbd33","type":"js","content":"class PropExtractor {\n  constructor(key) {\n    this.key = key;\n  }\n\n  extract(object) {\n    return object[this.key];\n  }\n}\n\nmodule.exports = PropExtractor;"}]},{"id":"9ce228fa-caee-44d5-8925-41397339b0f9","statement":"Pick the solution that performs the best.","answers":[{"id":"db5e3263-5a40-4a2f-b929-c439d8181ef7","type":"js","content":"async function fetchResults(api, jobs) {\n  const results = [];\n  for (const job of jobs) {\n    results.push(api.fetchJobResult(job));\n  }\n  return await Promise.all(results);\n}\n\nmodule.exports = fetchResults;"},{"id":"697e4c8d-b941-42a9-bf8f-1a603252fbd0","type":"js","content":"async function fetchResults(api, jobs) {\n  const results = [];\n  for (const job of jobs) {\n    results.push(await api.fetchJobResult(job));\n  }\n  return results;\n}\n\nmodule.exports = fetchResults;"}]},{"id":"124e78f5-eeb2-4fae-8e4f-4cb881de62d8","statement":"Pick the simplest solution that returns a new array with only unique items in it.","answers":[{"id":"2ad08e2a-10c4-447d-b4ea-a934ea847c47","type":"js","content":"function uniqify(numbers) {\n  return [...new Set(numbers)];\n}\n\nmodule.exports = uniqify;"},{"id":"747e157a-b685-4f10-afc7-c39d502fc59c","type":"js","content":"function uniqify(numbers) {\n  const unique = [];\n  const mem = Object.create(null);\n  for (const number of numbers) {\n    if (!mem[number]) {\n      unique.push(number);\n      mem[number] = true;\n    }\n  }\n  return unique;\n}\n\nmodule.exports = uniqify;"}]}]}