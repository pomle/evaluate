{"questions":[{"id":"a74c4d7f-f073-4384-b4fd-792092498bd8","answers":[{"id":"ed74c672-05e1-45a6-8daa-fde099de672a","type":"js","content":"function wrapItems(items) {\n  const envelopes = [];\n  let counter = 0;\n  for (const item of items) {\n    const envelope = {\n      id: counter++,\n      item,\n    };\n    envelopes.push(envelope);\n  }\n  return envelopes;\n}\n\nmodule.exports = wrapItems;"},{"id":"6de744d3-b1cd-43b9-93b7-544df5009bc0","type":"js","content":"function wrapItems(items) {\n  let envelopes = [];\n  let counter = 0;\n  for (let item of items) {\n    let envelope = {\n      id: counter++,\n      item,\n    };\n    envelopes.push(envelope);\n  }\n  return envelopes;\n}\n\nmodule.exports = wrapItems;"}]},{"id":"295720cc-bbd6-41ce-a960-facfecac91a2","answers":[{"id":"2e47efec-464b-4e91-930d-60fe4888d9a6","type":"js","content":"function createFibonacci() {\n  const memo = new Map([[0, 0], [1, 1]]);\n\n  return function fibonacci(n) {\n    if (!memo.has(n)) {\n      memo.set(n, fibonacci(n - 1) + fibonacci(n - 2));\n    }\n    return memo.get(n);\n  };\n}\n\nmodule.exports = createFibonacci();"},{"id":"fa0e7ba4-fed2-4f7c-b409-3a36e054e622","type":"js","content":"function fibonacci(n) {\n  if (n < 2) {\n    return n;\n  }\n  return fibonacci(n - 1) + fibonacci(n - 2);\n}\n\nmodule.exports = fibonacci;"}]},{"id":"737c2ccf-f45b-4265-a4d1-e46bfbc9e5cc","answers":[{"id":"58c13144-0dff-4b94-8715-771a0de39596","type":"js","content":"async function loadData(api) {\n  const foo = api.getFoo();\n  const bar = api.getBar();\n  return {\n    foo: await foo,\n    bar: await bar,\n  };\n}\n\nmodule.exports = loadData;"},{"id":"acd32b97-54a2-4139-8a97-75329c0a852b","type":"js","content":"async function loadData(api) {\n  const foo = await api.getFoo();\n  const bar = await api.getBar();\n  return { foo, bar };\n}\n\nmodule.exports = loadData;"}]},{"id":"87833333-f125-4ead-9b0a-1171eccd5c8d","answers":[{"id":"b2c5e753-5fc8-48ad-a74a-5683000979bf","type":"js","content":"function uniqify(numbers) {\n  const unique = [];\n  const mem = Object.create(null);\n  for (const number of numbers) {\n    if (!mem[number]) {\n      unique.push(number);\n      mem[number] = true;\n    }\n  }\n  return unique;\n}\n\nmodule.exports = uniqify;"},{"id":"5a452aa5-6638-4dd1-aa66-ca06c8bf6df0","type":"js","content":"function uniqify(numbers) {\n  const unique = [];\n  for (const number of numbers) {\n    if (!unique.includes(number)) {\n      unique.push(number);\n    }\n  }\n  return unique;\n}\n\nmodule.exports = uniqify;"}]},{"id":"5c45ef2b-01ab-49c7-b08f-849eaaab3762","answers":[{"id":"37ca6a88-a91e-4c7a-98ac-17525e94bae8","type":"js","content":"function uniqify(numbers) {\n  const unique = [];\n  const mem = Object.create(null);\n  for (const number of numbers) {\n    if (!mem[number]) {\n      unique.push(number);\n      mem[number] = true;\n    }\n  }\n  return unique;\n}\n\nmodule.exports = uniqify;"},{"id":"f70601d1-e147-4a9d-8e43-a615f7ecd389","type":"js","content":"function uniqify(numbers) {\n  const unique = [];\n  const mem = Object.create(null);\n  for (const number of numbers) {\n    if (!mem[number]) {\n      unique.push(number);\n      mem[number] = true;\n    }\n  }\n  return unique;\n}\n\nmodule.exports = uniqify;"}]},{"id":"4e3d9c34-9fad-4d60-bbf1-c30e2cb93865","answers":[{"id":"81b3d6d9-cd85-475b-8e62-c99bd0dc6380","type":"js","content":"function stringify(keyValuePairs) {\n  const strings = [];\n  for (const [key, value] of keyValuePairs) {\n    strings.push(key + '=' + value);\n  }\n  return strings.join(',');\n}\n\nmodule.exports = stringify;"},{"id":"eee5c309-ddb0-41d3-b20f-2e4a21f5759b","type":"js","content":"function stringify(keyValuePairs) {\n  let string = '';\n  for (const [key, value] of keyValuePairs) {\n    string += key + '=' + value + ',';\n  }\n  return string.substring(0, string.length - 1);\n}\n\nmodule.exports = stringify;"}]}]}