{"questions":[{"id":"5d961f9d-da75-4484-946c-85d3b2b5da62","statement":"Pick the solution that makes the most sense.","answers":[{"id":"ad117b99-f8e6-48fb-878f-116065186973","type":"js","content":"function wrapItems(items) {\n  const envelopes = [];\n  let counter = 0;\n  for (const item of items) {\n    const envelope = {\n      id: counter++,\n      item,\n    };\n    envelopes.push(envelope);\n  }\n  return envelopes;\n}\n\nmodule.exports = wrapItems;"},{"id":"93a434e3-66f8-40d9-a914-45cbf950df51","type":"js","content":"function wrapItems(items) {\n  let envelopes = [];\n  let counter = 0;\n  for (let item of items) {\n    let envelope = {\n      id: counter++,\n      item,\n    };\n    envelopes.push(envelope);\n  }\n  return envelopes;\n}\n\nmodule.exports = wrapItems;"}]},{"id":"5f3e8820-fb88-422b-b6d4-de8ea9efc584","statement":"Pick the solution that conforms to a Functional programming paradigm.","answers":[{"id":"a13a10cb-fe8a-428f-9595-67d2220d7bd6","type":"js","content":"const createPassword = require('./password');\n\nfunction addPassword(person) {\n  return Object.assign({}, person, {\n    password: createPassword(),\n  });\n}\n\nmodule.exports = addPassword;"},{"id":"1f8c4963-edc9-48b5-8d44-781115465b92","type":"js","content":"const createPassword = require('./password');\n\nfunction addPassword(person) {\n  person.password = createPassword();\n  return person;\n}\n\nmodule.exports = addPassword;"}]},{"id":"b03daf5b-09d5-4dbd-b6b7-bb6cb86f6e79","statement":"Pick the solution that performs the best.","answers":[{"id":"1d901341-4ccf-49fb-a644-cc866238c7f8","type":"js","content":"function createFibonacci() {\n  const memo = new Map([[0, 0], [1, 1]]);\n\n  return function fibonacci(n) {\n    if (!memo.has(n)) {\n      memo.set(\n        n,\n        fibonacci(n - 1) + fibonacci(n - 2)\n      );\n    }\n    return memo.get(n);\n  };\n}\n\nmodule.exports = createFibonacci();"},{"id":"03b5967b-6d7e-4baa-bbe1-1c34c3e184b5","type":"js","content":"function fibonacci(n) {\n  if (n < 2) {\n    return n;\n  }\n  return fibonacci(n - 1) + fibonacci(n - 2);\n}\n\nmodule.exports = fibonacci;"}]},{"id":"4130d235-6164-4055-b238-7c0d64262b65","statement":"Pick the most effective solution.","answers":[{"id":"1d4bb3ed-be66-4bf2-9aa6-0f8b939d4f9f","type":"js","content":"function getObjects(api, ids) {\n  return Promise.all(\n    ids.map(id => api.getObject(id))\n  );\n}\n\nmodule.exports = getObjects;"},{"id":"52617e8b-c0f8-402f-aa7b-4094b96219d3","type":"js","content":"function getObjects(api, ids) {\n  const results = [];\n  let complete = 0;\n  return new Promise(resolve => {\n    for (const id of ids) {\n      api.getObject(id).then(object => {\n        results.push(object);\n        complete++;\n        if (complete === ids.length) {\n          resolve(results);\n        }\n      });\n    }\n  });\n}\n\nmodule.exports = getObjects;"}]},{"id":"5d003f4a-a909-4bbc-b0e7-599f06805fcf","statement":"Pick the solution that is most logical.","answers":[{"id":"5dea8a10-ad29-4b2c-8dc5-b933ec83980f","type":"js","content":"function createPerson(id, name = 'Jane Doe') {\n  return {\n    id,\n    name,\n  };\n}\n\nmodule.exports = createPerson;"},{"id":"1dd22865-78bc-40f8-bece-f1ef72c4dfdb","type":"js","content":"function createPerson(name = 'Jane Doe', id) {\n  return {\n    id,\n    name,\n  };\n}\n\nmodule.exports = createPerson;"}]},{"id":"9b56663f-9361-4fbf-8c7e-292a3c931649","statement":"Pick the solution that performs the best.","answers":[{"id":"da60810d-ad3d-4529-a6e1-0c90d8a8ff46","type":"js","content":"async function loadData(api) {\n  const foo = api.getFoo();\n  const bar = api.getBar();\n  return {\n    foo: await foo,\n    bar: await bar,\n  };\n}\n\nmodule.exports = loadData;"},{"id":"670ba833-8472-4b45-a6f6-b2d9296e8c42","type":"js","content":"async function loadData(api) {\n  const foo = await api.getFoo();\n  const bar = await api.getBar();\n  return { foo, bar };\n}\n\nmodule.exports = loadData;"}]},{"id":"a0ca77eb-08c7-4e79-9379-ee2517cff077","statement":"Pick the solution that scales best.","answers":[{"id":"aa5bb5e3-fd87-49e7-bf64-297a084dcecc","type":"js","content":"function uniqify(numbers) {\n  const unique = [];\n  const mem = Object.create(null);\n  for (const number of numbers) {\n    if (!mem[number]) {\n      unique.push(number);\n      mem[number] = true;\n    }\n  }\n  return unique;\n}\n\nmodule.exports = uniqify;"},{"id":"4cdbaf69-f2ed-4211-b79c-f3487a4ad3f9","type":"js","content":"function uniqify(numbers) {\n  const unique = [];\n  for (const number of numbers) {\n    if (!unique.includes(number)) {\n      unique.push(number);\n    }\n  }\n  return unique;\n}\n\nmodule.exports = uniqify;"}]},{"id":"e7bd2bef-62f3-4dae-b4a6-b4a2711479d6","statement":"Pick the solution that makes most sense.","answers":[{"id":"d09dacd6-a2a4-4033-87a5-05a5bc103dec","type":"js","content":"function runUpdate(entities) {\n  entities.forEach(entity => {\n    entity.update();\n  });\n}\n\nmodule.exports = runUpdate;"},{"id":"61a4b785-58d7-4c96-8d2b-c9282ed22225","type":"js","content":"function runUpdate(entities) {\n  entities.map(entity => {\n    entity.update();\n  });\n}\n\nmodule.exports = runUpdate;"}]},{"id":"6fe06f0a-8e80-448c-822e-338f01663312","statement":"Pick the best working solution.","answers":[{"id":"57d35d4b-1a16-4bdf-9a54-07adc0b58183","type":"js","content":"function performUserSearch(api, user, text) {\n  const query = `user:${user.id},query:${text}`;\n  return api.search(query).then(result => {\n    return {\n      resultFor: query,\n      result,\n    };\n  });\n}\n\nmodule.exports = performUserSearch;"},{"id":"6de94e73-7efe-4f99-98b3-de076bbbbe48","type":"js","content":"function performUserSearch(api, user, text) {\n  return new Promise(resolve => {\n    const query = `user:${user.id},query:${text}`;\n    api.search(query).then(result => {\n      resolve({\n        resultFor: query,\n        result,\n      });\n    });\n  });\n}\n\nmodule.exports = performUserSearch;"}]},{"id":"b250dfb8-6cd9-44e1-a539-2d6ea8ba1793","statement":"Pick the solution that makes most sense.","answers":[{"id":"00cd6820-0bff-4a42-8af8-71426d02d022","type":"js","content":"function extractProperty(key) {\n  return function extract(object) {\n    return object[key];\n  };\n}\n\nmodule.exports = extractProperty;"},{"id":"e153e3df-6270-4ccb-8bfe-fddfafc3cea0","type":"js","content":"class PropExtractor {\n  constructor(key) {\n    this.key = key;\n  }\n\n  extract(object) {\n    return object[this.key];\n  }\n}\n\nmodule.exports = PropExtractor;"}]},{"id":"bf227a64-9359-4890-98ee-3839b1d9af1a","statement":"Pick the solution that performs the best.","answers":[{"id":"0d00643e-69c1-45b4-9780-b6c7d166c8b5","type":"js","content":"async function fetchResults(api, jobs) {\n  const results = [];\n  for (const job of jobs) {\n    results.push(api.fetchJobResult(job));\n  }\n  return await Promise.all(results);\n}\n\nmodule.exports = fetchResults;"},{"id":"ebbf5e0b-81a3-46c7-b35d-ff06d573cc92","type":"js","content":"async function fetchResults(api, jobs) {\n  const results = [];\n  for (const job of jobs) {\n    results.push(await api.fetchJobResult(job));\n  }\n  return results;\n}\n\nmodule.exports = fetchResults;"}]},{"id":"795ca474-7b8b-4ec1-a862-e0f2bf8fe495","statement":"Pick the simplest solution that returns a new array with only unique items in it.","answers":[{"id":"a3166da8-3655-48c8-b1d9-f0c978eb9312","type":"js","content":"function uniqify(numbers) {\n  return [...new Set(numbers)];\n}\n\nmodule.exports = uniqify;"},{"id":"b18c942f-056d-4ac0-a829-d0483ee7948f","type":"js","content":"function uniqify(numbers) {\n  const unique = [];\n  const mem = Object.create(null);\n  for (const number of numbers) {\n    if (!mem[number]) {\n      unique.push(number);\n      mem[number] = true;\n    }\n  }\n  return unique;\n}\n\nmodule.exports = uniqify;"}]}]}